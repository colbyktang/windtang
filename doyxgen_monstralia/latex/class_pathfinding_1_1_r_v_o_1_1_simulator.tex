\hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator}{}\doxysection{Pathfinding.\+R\+V\+O.\+Simulator Class Reference}
\label{class_pathfinding_1_1_r_v_o_1_1_simulator}\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}


Local Avoidance Simulator. This class handles local avoidance simulation for a number of agents using Reciprocal Velocity Obstacles (\mbox{\hyperlink{namespace_pathfinding_1_1_r_v_o}{R\+VO}}) and Optimal Reciprocal Collision Avoidance (O\+R\+CA).  




Collaboration diagram for Pathfinding.\+R\+V\+O.\+Simulator\+:
% FIG 0
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class {\bfseries Worker\+Context}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
List$<$ \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_sampled_1_1_agent}{Agent}} $>$ \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_ad9e72639137a0fc3d8d9fd67ba27d5cf}{Get\+Agents}} ()
\begin{DoxyCompactList}\small\item\em Get a list of all agents. \end{DoxyCompactList}\item 
List$<$ \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} $>$ \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_ab575f378e9e4593f0bc0b037ec536796}{Get\+Obstacles}} ()
\begin{DoxyCompactList}\small\item\em Get a list of all obstacles. This is a list of obstacle vertices. Each vertex is part of a doubly linked list loop forming an obstacle polygon. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_ab69d35b607aff5f416476feb65a6ccf1}{Simulator}} (int workers, bool double\+Buffering, \mbox{\hyperlink{namespace_pathfinding_1_1_r_v_o_a0bd1c94470dd200c3b9cb72f827e9e79}{Movement\+Plane}} \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a4cf9a326388f56afaec5bd7a0a943d50}{movement\+Plane}})
\begin{DoxyCompactList}\small\item\em Create a new simulator. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_acad7083421f526dc24c7dd86a6c9f3d0}{Clear\+Agents}} ()
\begin{DoxyCompactList}\small\item\em Removes all agents from the simulation \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a211c5d898a7e56aa8dd790b2a9363e27}{On\+Destroy}} ()
\begin{DoxyCompactList}\small\item\em Terminates all worker threads. Warning\+: You must call this when you are done with the simulator, otherwise some threads can linger and lead to memory leaks. \end{DoxyCompactList}\item 
\mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent}{I\+Agent}} \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_ab8ee39cec3eaa388e8792d2297116749}{Add\+Agent}} (\mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent}{I\+Agent}} agent)
\begin{DoxyCompactList}\small\item\em Add a previously removed agent to the simulation. An agent can only be in one simulation at a time, any attempt to add an agent to two simulations or multiple times to the same simulation will result in an exception being thrown. \end{DoxyCompactList}\item 
\mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent}{I\+Agent}} \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_aabfdeca01ac762eabfb68a4c35e2f991}{Add\+Agent}} (Vector3 position)
\begin{DoxyCompactList}\small\item\em Add an agent at the specified position. You can use the returned interface to read several parameters such as position and velocity and set for example radius and desired velocity. \end{DoxyCompactList}\item 
\mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent}{I\+Agent}} \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a01c0b31108d44092d42fc50f5be03093}{Add\+Agent}} (Vector2 position, float elevation\+Coordinate)
\begin{DoxyCompactList}\small\item\em Add an agent at the specified position. You can use the returned interface to read and write parameters and set for example radius and desired point to move to. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a1f4b3635bdc1c1b2cefc131b53982f37}{Remove\+Agent}} (\mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent}{I\+Agent}} agent)
\begin{DoxyCompactList}\small\item\em Removes a specified agent from this simulation. The agent can be added again later by using Add\+Agent. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a4faa34a2e3b74365f431c9296cfaf939}{Add\+Obstacle}} (\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} v)
\begin{DoxyCompactList}\small\item\em Adds a previously removed obstacle. This does not check if the obstacle is already added to the simulation, so please do not add an obstacle multiple times. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_ac3b30d15d8e64f03c9042414601c17f8}{Add\+Obstacle}} (Vector3\mbox{[}$\,$\mbox{]} vertices, float height, bool cycle=true)
\begin{DoxyCompactList}\small\item\em Adds an obstacle described by the vertices. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a6f6b41e7efceb74e469550212dc14906}{Add\+Obstacle}} (Vector3\mbox{[}$\,$\mbox{]} vertices, float height, Matrix4x4 matrix, R\+V\+O\+Layer layer=R\+V\+O\+Layer.\+Default\+Obstacle, bool cycle=true)
\begin{DoxyCompactList}\small\item\em Adds an obstacle described by the vertices. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_af68dbd466717b211aea7ca97a823a742}{Add\+Obstacle}} (Vector3 a, Vector3 b, float height)
\begin{DoxyCompactList}\small\item\em Adds a line obstacle with a specified height. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a55eb8d780f9c9d47845c64a34abc33c0}{Update\+Obstacle}} (\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} obstacle, Vector3\mbox{[}$\,$\mbox{]} vertices, Matrix4x4 matrix)
\begin{DoxyCompactList}\small\item\em Updates the vertices of an obstacle. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_ac866b80a1172ebad09c7c1b5316a4061}{Remove\+Obstacle}} (\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} v)
\begin{DoxyCompactList}\small\item\em Removes the obstacle identified by the vertex. This must be the same vertex as the one returned by the Add\+Obstacle call. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_af0588041bcf9f692f521234e395b69a8}{Update\+Obstacles}} ()
\begin{DoxyCompactList}\small\item\em Rebuilds the obstacle tree at next simulation frame. Add and remove obstacle functions call this automatically. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a7b377a4012475d03aa097a3bc2d9c584}{Update}} ()
\begin{DoxyCompactList}\small\item\em Should be called once per frame \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
List$<$ \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} $>$ \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a0da8cd7110c1b4c3352a859a8f693fc3}{obstacles}}
\begin{DoxyCompactList}\small\item\em Obstacles in this simulation \end{DoxyCompactList}\item 
float \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_ae330ec62f3750d72184263cb6969d096}{symmetry\+Breaking\+Bias}} = 0.\+1f
\begin{DoxyCompactList}\small\item\em Bias agents to pass each other on the right side. If the desired velocity of an agent puts it on a collision course with another agent or an obstacle its desired velocity will be rotated this number of radians (1 radian is approximately 57Â°) to the right. This helps to break up symmetries and makes it possible to resolve some situations much faster. \end{DoxyCompactList}\item 
readonly \mbox{\hyperlink{namespace_pathfinding_1_1_r_v_o_a0bd1c94470dd200c3b9cb72f827e9e79}{Movement\+Plane}} \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a4cf9a326388f56afaec5bd7a0a943d50}{movement\+Plane}} = \mbox{\hyperlink{namespace_pathfinding_1_1_r_v_o_a0bd1c94470dd200c3b9cb72f827e9e79a27db3b98d01e664c17a6620b222c6469}{Movement\+Plane.\+XZ}}
\begin{DoxyCompactList}\small\item\em Determines if the XY (2D) or XZ (3D) plane is used for movement \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Properties}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_r_v_o_quadtree}{R\+V\+O\+Quadtree}} \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_adbb98d25db425ddb9f661ae172917c2d}{Quadtree}}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\begin{DoxyCompactList}\small\item\em Quadtree for this simulation. Used internally by the simulation to perform fast neighbour lookups for each agent. Please only read from this tree, do not rebuild it since that can interfere with the simulation. It is rebuilt when necessary. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_abe4da4b3bed11a75d067c7800e23c831}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_abe4da4b3bed11a75d067c7800e23c831}} 
float {\bfseries Delta\+Time}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\item 
bool \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a3bef765a383a68381b5beaa3c91c436a}{Multithreading}}\hspace{0.3cm}{\ttfamily  \mbox{[}get\mbox{]}}
\begin{DoxyCompactList}\small\item\em Is using multithreading \end{DoxyCompactList}\item 
float \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_ad7c96eefe6dff7360336bbd48f531029}{Desired\+Delta\+Time}}\hspace{0.3cm}{\ttfamily  \mbox{[}get, set\mbox{]}}
\begin{DoxyCompactList}\small\item\em Time in seconds between each simulation step. This is the desired delta time, the simulation will never run at a higher fps than the rate at which the Update function is called. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Local Avoidance Simulator. This class handles local avoidance simulation for a number of agents using Reciprocal Velocity Obstacles (\mbox{\hyperlink{namespace_pathfinding_1_1_r_v_o}{R\+VO}}) and Optimal Reciprocal Collision Avoidance (O\+R\+CA). 

This class will handle calculation of velocities from desired velocities supplied by a script. It is, however, not responsible for moving any objects in a Unity Scene. For that there are other scripts (see below).

Obstacles can be added and removed from the simulation, agents can also be added and removed at any time. See\+: R\+V\+O\+Simulator See\+: R\+V\+O\+Agent See\+: \mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent}{Pathfinding.\+R\+V\+O.\+I\+Agent}}

The implementation uses a sampling based algorithm with gradient descent to find the avoidance velocities.

You will most likely mostly use the wrapper class R\+V\+O\+Simulator.

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_ab69d35b607aff5f416476feb65a6ccf1}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_ab69d35b607aff5f416476feb65a6ccf1}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!Simulator@{Simulator}}
\index{Simulator@{Simulator}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{Simulator()}{Simulator()}}
{\footnotesize\ttfamily Pathfinding.\+R\+V\+O.\+Simulator.\+Simulator (\begin{DoxyParamCaption}\item[{int}]{workers,  }\item[{bool}]{double\+Buffering,  }\item[{\mbox{\hyperlink{namespace_pathfinding_1_1_r_v_o_a0bd1c94470dd200c3b9cb72f827e9e79}{Movement\+Plane}}}]{movement\+Plane }\end{DoxyParamCaption})}



Create a new simulator. 

Note\+: Will only have effect if using multithreading

See\+: \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a3bef765a383a68381b5beaa3c91c436a}{Multithreading}}


\begin{DoxyParams}{Parameters}
{\em workers} & Use the specified number of worker threads.~\newline
When the number zero is specified, no multithreading will be used. A good number is the number of cores on the machine.\\
\hline
{\em double\+Buffering} & Use Double Buffering for calculations. Testing done with 5000 agents and 0.\+1 desired delta time showed that with double buffering enabled the game ran at 50 fps for most frames, dropping to 10 fps during calculation frames. But without double buffering it ran at around 10 fps all the time.~\newline
This will let threads calculate while the game progresses instead of waiting for the calculations to finish.\\
\hline
{\em movement\+Plane} & The plane that the movement happens in. XZ for 3D games, XY for 2D games.\\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_ab8ee39cec3eaa388e8792d2297116749}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_ab8ee39cec3eaa388e8792d2297116749}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!AddAgent@{AddAgent}}
\index{AddAgent@{AddAgent}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{AddAgent()}{AddAgent()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent}{I\+Agent}} Pathfinding.\+R\+V\+O.\+Simulator.\+Add\+Agent (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent}{I\+Agent}}}]{agent }\end{DoxyParamCaption})}



Add a previously removed agent to the simulation. An agent can only be in one simulation at a time, any attempt to add an agent to two simulations or multiple times to the same simulation will result in an exception being thrown. 

See\+: Remove\+Agent\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_a01c0b31108d44092d42fc50f5be03093}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_a01c0b31108d44092d42fc50f5be03093}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!AddAgent@{AddAgent}}
\index{AddAgent@{AddAgent}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{AddAgent()}{AddAgent()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent}{I\+Agent}} Pathfinding.\+R\+V\+O.\+Simulator.\+Add\+Agent (\begin{DoxyParamCaption}\item[{Vector2}]{position,  }\item[{float}]{elevation\+Coordinate }\end{DoxyParamCaption})}



Add an agent at the specified position. You can use the returned interface to read and write parameters and set for example radius and desired point to move to. 

See\+: Remove\+Agent


\begin{DoxyParams}{Parameters}
{\em position} & See \mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent_a1fd7540e5876c8a66afa5ee83b164ef0}{I\+Agent.\+Position}}\\
\hline
{\em elevation\+Coordinate} & See \mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent_a658d7e62fe018e8e6680720864f221d1}{I\+Agent.\+Elevation\+Coordinate}}\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_aabfdeca01ac762eabfb68a4c35e2f991}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_aabfdeca01ac762eabfb68a4c35e2f991}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!AddAgent@{AddAgent}}
\index{AddAgent@{AddAgent}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{AddAgent()}{AddAgent()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent}{I\+Agent}} Pathfinding.\+R\+V\+O.\+Simulator.\+Add\+Agent (\begin{DoxyParamCaption}\item[{Vector3}]{position }\end{DoxyParamCaption})}



Add an agent at the specified position. You can use the returned interface to read several parameters such as position and velocity and set for example radius and desired velocity. 

Deprecated\+: Use \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_a01c0b31108d44092d42fc50f5be03093}{Add\+Agent(\+Vector2,float)}} instead\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_a4faa34a2e3b74365f431c9296cfaf939}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_a4faa34a2e3b74365f431c9296cfaf939}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!AddObstacle@{AddObstacle}}
\index{AddObstacle@{AddObstacle}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{AddObstacle()}{AddObstacle()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} Pathfinding.\+R\+V\+O.\+Simulator.\+Add\+Obstacle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}}}]{v }\end{DoxyParamCaption})}



Adds a previously removed obstacle. This does not check if the obstacle is already added to the simulation, so please do not add an obstacle multiple times. 

It is assumed that this is a valid obstacle.\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_af68dbd466717b211aea7ca97a823a742}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_af68dbd466717b211aea7ca97a823a742}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!AddObstacle@{AddObstacle}}
\index{AddObstacle@{AddObstacle}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{AddObstacle()}{AddObstacle()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} Pathfinding.\+R\+V\+O.\+Simulator.\+Add\+Obstacle (\begin{DoxyParamCaption}\item[{Vector3}]{a,  }\item[{Vector3}]{b,  }\item[{float}]{height }\end{DoxyParamCaption})}



Adds a line obstacle with a specified height. 

See\+: Remove\+Obstacle\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_ac3b30d15d8e64f03c9042414601c17f8}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_ac3b30d15d8e64f03c9042414601c17f8}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!AddObstacle@{AddObstacle}}
\index{AddObstacle@{AddObstacle}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{AddObstacle()}{AddObstacle()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} Pathfinding.\+R\+V\+O.\+Simulator.\+Add\+Obstacle (\begin{DoxyParamCaption}\item[{Vector3\mbox{[}$\,$\mbox{]}}]{vertices,  }\item[{float}]{height,  }\item[{bool}]{cycle = {\ttfamily true} }\end{DoxyParamCaption})}



Adds an obstacle described by the vertices. 

See\+: Remove\+Obstacle\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_a6f6b41e7efceb74e469550212dc14906}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_a6f6b41e7efceb74e469550212dc14906}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!AddObstacle@{AddObstacle}}
\index{AddObstacle@{AddObstacle}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{AddObstacle()}{AddObstacle()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}} Pathfinding.\+R\+V\+O.\+Simulator.\+Add\+Obstacle (\begin{DoxyParamCaption}\item[{Vector3\mbox{[}$\,$\mbox{]}}]{vertices,  }\item[{float}]{height,  }\item[{Matrix4x4}]{matrix,  }\item[{R\+V\+O\+Layer}]{layer = {\ttfamily RVOLayer.DefaultObstacle},  }\item[{bool}]{cycle = {\ttfamily true} }\end{DoxyParamCaption})}



Adds an obstacle described by the vertices. 

See\+: Remove\+Obstacle\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_acad7083421f526dc24c7dd86a6c9f3d0}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_acad7083421f526dc24c7dd86a6c9f3d0}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!ClearAgents@{ClearAgents}}
\index{ClearAgents@{ClearAgents}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{ClearAgents()}{ClearAgents()}}
{\footnotesize\ttfamily void Pathfinding.\+R\+V\+O.\+Simulator.\+Clear\+Agents (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Removes all agents from the simulation 

\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_ad9e72639137a0fc3d8d9fd67ba27d5cf}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_ad9e72639137a0fc3d8d9fd67ba27d5cf}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!GetAgents@{GetAgents}}
\index{GetAgents@{GetAgents}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{GetAgents()}{GetAgents()}}
{\footnotesize\ttfamily List$<$\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_sampled_1_1_agent}{Agent}}$>$ Pathfinding.\+R\+V\+O.\+Simulator.\+Get\+Agents (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get a list of all agents. 

This is an internal list. I\textquotesingle{}m not going to be restrictive so you may access it since it is better for performance but please do not modify it since that can cause errors in the simulation.

Warning\+: Do not modify this list!\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_ab575f378e9e4593f0bc0b037ec536796}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_ab575f378e9e4593f0bc0b037ec536796}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!GetObstacles@{GetObstacles}}
\index{GetObstacles@{GetObstacles}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{GetObstacles()}{GetObstacles()}}
{\footnotesize\ttfamily List$<$\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}}$>$ Pathfinding.\+R\+V\+O.\+Simulator.\+Get\+Obstacles (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get a list of all obstacles. This is a list of obstacle vertices. Each vertex is part of a doubly linked list loop forming an obstacle polygon. 

Warning\+: Do not modify this list!

See\+: Add\+Obstacle See\+: Remove\+Obstacle\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_a211c5d898a7e56aa8dd790b2a9363e27}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_a211c5d898a7e56aa8dd790b2a9363e27}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!OnDestroy@{OnDestroy}}
\index{OnDestroy@{OnDestroy}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{OnDestroy()}{OnDestroy()}}
{\footnotesize\ttfamily void Pathfinding.\+R\+V\+O.\+Simulator.\+On\+Destroy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Terminates all worker threads. Warning\+: You must call this when you are done with the simulator, otherwise some threads can linger and lead to memory leaks. 

\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_a1f4b3635bdc1c1b2cefc131b53982f37}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_a1f4b3635bdc1c1b2cefc131b53982f37}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!RemoveAgent@{RemoveAgent}}
\index{RemoveAgent@{RemoveAgent}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{RemoveAgent()}{RemoveAgent()}}
{\footnotesize\ttfamily void Pathfinding.\+R\+V\+O.\+Simulator.\+Remove\+Agent (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{interface_pathfinding_1_1_r_v_o_1_1_i_agent}{I\+Agent}}}]{agent }\end{DoxyParamCaption})}



Removes a specified agent from this simulation. The agent can be added again later by using Add\+Agent. 

See\+: \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_simulator_ab8ee39cec3eaa388e8792d2297116749}{Add\+Agent(\+I\+Agent)}} See\+: Clear\+Agents\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_ac866b80a1172ebad09c7c1b5316a4061}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_ac866b80a1172ebad09c7c1b5316a4061}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!RemoveObstacle@{RemoveObstacle}}
\index{RemoveObstacle@{RemoveObstacle}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{RemoveObstacle()}{RemoveObstacle()}}
{\footnotesize\ttfamily void Pathfinding.\+R\+V\+O.\+Simulator.\+Remove\+Obstacle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}}}]{v }\end{DoxyParamCaption})}



Removes the obstacle identified by the vertex. This must be the same vertex as the one returned by the Add\+Obstacle call. 

See\+: Add\+Obstacle\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_a7b377a4012475d03aa097a3bc2d9c584}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_a7b377a4012475d03aa097a3bc2d9c584}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!Update@{Update}}
\index{Update@{Update}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{Update()}{Update()}}
{\footnotesize\ttfamily void Pathfinding.\+R\+V\+O.\+Simulator.\+Update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Should be called once per frame 

\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_a55eb8d780f9c9d47845c64a34abc33c0}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_a55eb8d780f9c9d47845c64a34abc33c0}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!UpdateObstacle@{UpdateObstacle}}
\index{UpdateObstacle@{UpdateObstacle}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{UpdateObstacle()}{UpdateObstacle()}}
{\footnotesize\ttfamily void Pathfinding.\+R\+V\+O.\+Simulator.\+Update\+Obstacle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}}}]{obstacle,  }\item[{Vector3\mbox{[}$\,$\mbox{]}}]{vertices,  }\item[{Matrix4x4}]{matrix }\end{DoxyParamCaption})}



Updates the vertices of an obstacle. 

The number of vertices in an obstacle cannot be changed, existing vertices can only be moved.


\begin{DoxyParams}{Parameters}
{\em obstacle} & Obstacle to update\\
\hline
{\em vertices} & New vertices for the obstacle, must have at least the number of vertices in the original obstacle\\
\hline
{\em matrix} & Matrix to multiply vertices with before updating obstacle\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_af0588041bcf9f692f521234e395b69a8}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_af0588041bcf9f692f521234e395b69a8}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!UpdateObstacles@{UpdateObstacles}}
\index{UpdateObstacles@{UpdateObstacles}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{UpdateObstacles()}{UpdateObstacles()}}
{\footnotesize\ttfamily void Pathfinding.\+R\+V\+O.\+Simulator.\+Update\+Obstacles (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Rebuilds the obstacle tree at next simulation frame. Add and remove obstacle functions call this automatically. 



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_a4cf9a326388f56afaec5bd7a0a943d50}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_a4cf9a326388f56afaec5bd7a0a943d50}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!movementPlane@{movementPlane}}
\index{movementPlane@{movementPlane}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{movementPlane}{movementPlane}}
{\footnotesize\ttfamily readonly \mbox{\hyperlink{namespace_pathfinding_1_1_r_v_o_a0bd1c94470dd200c3b9cb72f827e9e79}{Movement\+Plane}} Pathfinding.\+R\+V\+O.\+Simulator.\+movement\+Plane = \mbox{\hyperlink{namespace_pathfinding_1_1_r_v_o_a0bd1c94470dd200c3b9cb72f827e9e79a27db3b98d01e664c17a6620b222c6469}{Movement\+Plane.\+XZ}}}



Determines if the XY (2D) or XZ (3D) plane is used for movement 

\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_a0da8cd7110c1b4c3352a859a8f693fc3}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_a0da8cd7110c1b4c3352a859a8f693fc3}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!obstacles@{obstacles}}
\index{obstacles@{obstacles}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{obstacles}{obstacles}}
{\footnotesize\ttfamily List$<$\mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_obstacle_vertex}{Obstacle\+Vertex}}$>$ Pathfinding.\+R\+V\+O.\+Simulator.\+obstacles}



Obstacles in this simulation 

\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_ae330ec62f3750d72184263cb6969d096}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_ae330ec62f3750d72184263cb6969d096}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!symmetryBreakingBias@{symmetryBreakingBias}}
\index{symmetryBreakingBias@{symmetryBreakingBias}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{symmetryBreakingBias}{symmetryBreakingBias}}
{\footnotesize\ttfamily float Pathfinding.\+R\+V\+O.\+Simulator.\+symmetry\+Breaking\+Bias = 0.\+1f}



Bias agents to pass each other on the right side. If the desired velocity of an agent puts it on a collision course with another agent or an obstacle its desired velocity will be rotated this number of radians (1 radian is approximately 57Â°) to the right. This helps to break up symmetries and makes it possible to resolve some situations much faster. 

When many agents have the same goal this can however have the side effect that the group clustered around the target point may as a whole start to spin around the target point.

Recommended values are in the range of 0 to 0.\+2.

If this value is negative, the agents will be biased towards passing each other on the left side instead.

\doxysubsection{Property Documentation}
\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_ad7c96eefe6dff7360336bbd48f531029}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_ad7c96eefe6dff7360336bbd48f531029}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!DesiredDeltaTime@{DesiredDeltaTime}}
\index{DesiredDeltaTime@{DesiredDeltaTime}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{DesiredDeltaTime}{DesiredDeltaTime}}
{\footnotesize\ttfamily float Pathfinding.\+R\+V\+O.\+Simulator.\+Desired\+Delta\+Time\hspace{0.3cm}{\ttfamily [get]}, {\ttfamily [set]}}



Time in seconds between each simulation step. This is the desired delta time, the simulation will never run at a higher fps than the rate at which the Update function is called. 

\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_a3bef765a383a68381b5beaa3c91c436a}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_a3bef765a383a68381b5beaa3c91c436a}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!Multithreading@{Multithreading}}
\index{Multithreading@{Multithreading}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{Multithreading}{Multithreading}}
{\footnotesize\ttfamily bool Pathfinding.\+R\+V\+O.\+Simulator.\+Multithreading\hspace{0.3cm}{\ttfamily [get]}}



Is using multithreading 

\mbox{\Hypertarget{class_pathfinding_1_1_r_v_o_1_1_simulator_adbb98d25db425ddb9f661ae172917c2d}\label{class_pathfinding_1_1_r_v_o_1_1_simulator_adbb98d25db425ddb9f661ae172917c2d}} 
\index{Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}!Quadtree@{Quadtree}}
\index{Quadtree@{Quadtree}!Pathfinding.RVO.Simulator@{Pathfinding.RVO.Simulator}}
\doxysubsubsection{\texorpdfstring{Quadtree}{Quadtree}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_pathfinding_1_1_r_v_o_1_1_r_v_o_quadtree}{R\+V\+O\+Quadtree}} Pathfinding.\+R\+V\+O.\+Simulator.\+Quadtree\hspace{0.3cm}{\ttfamily [get]}}



Quadtree for this simulation. Used internally by the simulation to perform fast neighbour lookups for each agent. Please only read from this tree, do not rebuild it since that can interfere with the simulation. It is rebuilt when necessary. 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Assets/\+Third Party Addons/\+Astar\+Pathfinding\+Project/\+Core/\+R\+V\+O/R\+V\+O\+Core\+Simulator.\+cs\end{DoxyCompactItemize}
